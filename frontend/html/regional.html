<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PolluTrack - Regional Analysis</title>
 <link rel="stylesheet" href="/PolluTrack-/frontend/css/regional.css">
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <a href="#" class="logo">PolluTrack</a>
                <nav>
                    <ul>
                        <li><a href="/">Home</a></li>
                        <li><a href="#about-pm">About PM</a></li>
                        <li><a href="#features">Features</a></li>
                        <li><a href="#options">Get Started</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    
    <div class="datetime-display" id="datetime">
        <div id="current-date"></div>
        <div id="current-time"></div>
    </div>
    
    <div class="regional-container">
        <div class="regional-header">
            <h1>üìç Regional Air Pollution Analysis</h1>
            <p>Detailed analysis of air quality for specific states, cities, and regions across India</p>
        </div>
        
        <div class="preferences-container">
            <div class="preferences-header">
                <h2>üéØ User Preferences</h2>
                <p>Select your preferences to view customized pollution data</p>
            </div>
            
            <div class="preferences-grid">
                <div class="preference-group">
                    <label for="state">üèõÔ∏è Select State:</label>
                    <select id="state">
                        <option value="">Choose a state...</option>
                        <option value="delhi">Delhi</option>
                        <option value="maharashtra">Maharashtra</option>
                        <option value="uttar-pradesh">Uttar Pradesh</option>
                        <option value="gujarat">Gujarat</option>
                        <option value="karnataka">Karnataka</option>
                        <option value="west-bengal">West Bengal</option>
                        <option value="rajasthan">Rajasthan</option>
                        <option value="punjab">Punjab</option>
                        <option value="tamil-nadu">Tamil Nadu</option>
                        <option value="haryana">Haryana</option>
                        <option value="bihar">Bihar</option>
                        <option value="madhya-pradesh">Madhya Pradesh</option>
                    </select>
                </div>
                
                <div class="preference-group">
                    <label for="pollutant-type">üå¨Ô∏è Pollutant Type:</label>
                    <select id="pollutant-type">
                        <option value="pm25">PM2.5</option>
                        <option value="pm10">PM10</option>
                        <option value="both">Both PM2.5 & PM10</option>
                        <option value="aqi">Overall AQI</option>
                    </select>
                </div>
                
               
                
                <div class="preference-group">
                    <label for="data-source">üìä Data Source:</label>
                    <select id="data-source">
                        <option value="cpcb">CPCB Official</option>
                        <option value="satellite">Satellite Data</option>
                        <option value="combined">Combined Sources</option>
                    </select>
                </div>
            </div>
            
            <div class="selection-summary" id="selection-summary" style="display: none;">
                <h4>üìã Current Selection</h4>
                <p id="summary-text">Please select your preferences above</p>
            </div>
            
            <div class="heatmap-section">
                <button class="show-heatmap-btn" id="show-heatmap" disabled>
                    üó∫Ô∏è Show Heatmap
                </button>
            </div>
        </div>
        
        <div class="analysis-grid">
            <div class="analysis-card">
                <h3>üìä Current Pollution Levels</h3>
                <div class="chart-placeholder">
                    <div>
                        <h4>Real-time Data Chart</h4>
                        <p>Select preferences to view data</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="analysis-card">
            <h3>üèôÔ∏è City Comparison</h3>
            <div class="city-comparison">
                <div class="city-card">
                    <h4>Mumbai</h4>
                    <div class="pollution-level level-moderate">65 Œºg/m¬≥</div>
                    <div>PM2.5 - Moderate</div>
                </div>
                <div class="city-card">
                    <h4>Delhi</h4>
                    <div class="pollution-level level-unhealthy">142 Œºg/m¬≥</div>
                    <div>PM2.5 - Unhealthy</div>
                </div>
                <div class="city-card">
                    <h4>Bangalore</h4>
                    <div class="pollution-level level-good">38 Œºg/m¬≥</div>
                    <div>PM2.5 - Good</div>
                </div>
                <div class="city-card">
                    <h4>Kolkata</h4>
                    <div class="pollution-level level-moderate">78 Œºg/m¬≥</div>
                    <div>PM2.5 - Moderate</div>
                </div>
            </div>
        </div>
        
        <div class="analysis-card">
            <h3>üìã Detailed Data Table</h3>
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Location</th>
                        <th>PM2.5 (Œºg/m¬≥)</th>
                        <th>PM10 (Œºg/m¬≥)</th>
                        <th>AQI</th>
                        <th>Category</th>
                        <th>Last Updated</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Mumbai Central</td>
                        <td>65</td>
                        <td>95</td>
                        <td>112</td>
                        <td>Moderate</td>
                        <td>2 hours ago</td>
                    </tr>
                    <tr>
                        <td>Delhi CP</td>
                        <td>142</td>
                        <td>198</td>
                        <td>187</td>
                        <td>Unhealthy</td>
                        <td>1 hour ago</td>
                    </tr>
                    <tr>
                        <td>Bangalore HSR</td>
                        <td>38</td>
                        <td>62</td>
                        <td>76</td>
                        <td>Good</td>
                        <td>30 mins ago</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    
    <script>
        // Update date and time
        function updateDateTime() {
            const now = new Date();
            const dateOptions = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            };
            const timeOptions = { 
                hour: '2-digit', 
                minute: '2-digit', 
                second: '2-digit',
                hour12: true
            };
            
            document.getElementById('current-date').textContent = now.toLocaleDateString('en-IN', dateOptions);
            document.getElementById('current-time').textContent = now.toLocaleTimeString('en-IN', timeOptions);
        }
        
        // Update every second
        setInterval(updateDateTime, 1000);
        updateDateTime();
        
        // Add event listeners for dropdowns
        const stateSelect = document.getElementById('state');
        const pollutantSelect = document.getElementById('pollutant-type');
       
        const dataSourceSelect = document.getElementById('data-source');
        const heatmapBtn = document.getElementById('show-heatmap');
        const summaryDiv = document.getElementById('selection-summary');
        const summaryText = document.getElementById('summary-text');
        
      function updateSelectionSummary() {
    const state = stateSelect.value;
    const pollutant = pollutantSelect.value;
    const dataSource = dataSourceSelect.value;

    if (state) {
        const stateText = stateSelect.options[stateSelect.selectedIndex].text;
        const pollutantText = pollutantSelect.options[pollutantSelect.selectedIndex].text;
        const dataSourceText = dataSourceSelect.options[dataSourceSelect.selectedIndex].text;

        summaryText.innerHTML = `
            <strong>State:</strong> ${stateText} | 
            <strong>Pollutant:</strong> ${pollutantText} | 
            <strong>Data Source:</strong> ${dataSourceText}
        `;
        summaryDiv.style.display = 'block';
        heatmapBtn.disabled = false;
    } else {
        summaryDiv.style.display = 'none';
        heatmapBtn.disabled = true;
    }
}

        
        stateSelect.addEventListener('change', updateSelectionSummary);
        pollutantSelect.addEventListener('change', updateSelectionSummary);
        dataSourceSelect.addEventListener('change', updateSelectionSummary);
heatmapBtn.addEventListener('click', function() {
    const state = stateSelect.value;
    const pollutant = pollutantSelect.value;
    const dataSource = dataSourceSelect.value;

    if (state) {
        this.textContent = 'üîÑ Loading Heatmap...';
        this.disabled = true;

        setTimeout(() => {
            this.textContent = 'üó∫Ô∏è Show Heatmap';
            this.disabled = false;

            console.log('Showing heatmap for:', {
                state: state,
                pollutant: pollutant,
                dataSource: dataSource
            });

            alert(`Heatmap will be displayed for ${stateSelect.options[stateSelect.selectedIndex].text} showing ${pollutantSelect.options[pollutantSelect.selectedIndex].text} data.`);
        }, 2000);
    }
});

        
        // Initialize
        updateSelectionSummary();
    </script>
</body>
</html>